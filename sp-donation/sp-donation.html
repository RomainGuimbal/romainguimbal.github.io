<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SurfacePsycho - Donate</title>
    <link rel="stylesheet" href="sp-donation.css"/>
    <link rel="icon" href="../assets/img/favicon.png">
</head>
<body>
    <canvas id="shaderCanvas"></canvas>

    <div class="container">
        <div class="main-content">
            

            <div class="logo-stack">
                <h2 class="dominus">DOMINUS NURBSUS</h2>
                <!-- <img class="svg" src="svg button.svg"/> -->
                <img class="logo" src="../assets/img/splogo_alpha.png">
            </div>
            <h1 class="title">SurfacePsycho</h1>
            
            <p class="subtitle">Accelerate the project now</p>
            
            <!-- DONATE BUTTON -->
            <div class="donate-button" href="https://opencollective.com/surfacepsycho#category-CONTRIBUTE" id="centerButton">
                <img class="donate-decoration" src="svg button ext.svg">
                <img class="donate-decoration" src="svg button ext.svg">
                <img class="donate-decoration" src="svg button ext.svg">
                <img class="donate-decoration" src="svg button ext.svg">
                <img class="donate-frame">
                <span class="default-text">Free Money</span>
                <span class="hover-text">Donate</span>
            </div>
            
            <div class="progress-section">
                <div class="progress-label">
                    <span>Goal Progress</span>
                    <span id="balance-label"><span id="balance-amount">1 100</span> â‚¬ / 50 000 â‚¬</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
            </div>            
        </div>

        <div class="links-grid">
            <a href="https://github.com/RomainGuimbal/SurfacePsycho" class="link-frame">
                <img class="link-icon" src="github-mark-white.svg" style="width: 30px; height: 30px">
                <div class="link-title">Github</div>
                <div class="link-desc">Add-on Source & Doc</div>
                <div class="hover-text">Open-source babe ðŸ˜Ž</div>
            </a>

            <a href="#" class="link-frame">
                <div class="link-icon">ðŸ‘‘</div>
                <div class="link-title">Top Donator</div>
                <div class="link-desc">NAME HERE</div>
                <div class="hover-text">To him you shall pray</div>
            </a>
            
            <a href="#" class="link-frame" ><!--style="background-image: url('../assets/img/pp.jpg');"-->
                <div class="link-icon">ðŸ§¢</div>
                <div class="link-title">Contact</div> <!--style="color: #000000"-->
                <div class="link-desc">Talk to the manager</div>
                <!-- <div class="hover-text">Romain Guimbal</div> -->
                <div class="hover-text">romain.guimbal@proton.me</div>
            </a>

            <a href="https://blenderartists.org/t/surfacepsycho-addon-project/1487629" class="link-frame">
                <div class="link-icon">ðŸ“°</div>
                <div class="link-title">Updates</div>
                <div class="link-desc">Probably obsolete</div>
                <div class="hover-text">blenderartists.org</div>
            </a>

            <a href="#" class="link-frame">
                <div class="link-icon">ðŸ«³</div>
                <div class="link-title">Hands-on</div>
                <div class="link-desc">Get SurfacePsycho Blender add-on</div>
            </a>

            <a href="https://discord.gg/MJdxMBM6pm" class="link-frame">
                <img class="link-icon" src="https://upload.wikimedia.org/wikipedia/fr/4/4f/Discord_Logo_sans_texte.svg" style="width: 30px; height: 30px">
                <div class="link-title">Geometry Nerd&nbsp?</div>
                <div class="link-desc">Join the discord</div>
            </a>
        </div>
    </div>

    <script type="module">
        import { fetchCollectiveBalance } from "./get_project_balance.js";
        function handleLinkClick(section) {
            // Add navigation logic here
            alert(`Navigating to ${section} section`);
        }

        // Animate progress bar on load
        window.addEventListener('load', () => {
            const progressFill = document.getElementById('progress-fill');
            progressFill.style.width = '0%';
        });
        
        fetchCollectiveBalance('surfacepsycho').then(result => {
            if (result) {
                const amount = parseFloat(result.amount.replace(',', '.'));
                const percent = Math.min((amount / 50000) * 100, 100);
                document.getElementById('balance-amount').textContent = `${amount.toLocaleString('fr-FR', {minimumFractionDigits: 2, maximumFractionDigits: 2})} â‚¬`;
                document.getElementById('balance-label').innerHTML = `<span id='balance-amount'>${amount.toLocaleString('fr-FR', {minimumFractionDigits: 2, maximumFractionDigits: 2})} â‚¬</span> / 50 000 â‚¬`;
                const progressFill = document.getElementById('progress-fill');
                setTimeout(() => {
                    progressFill.style.transition = 'width 2s ease-out';
                    progressFill.style.width = percent + '%';
                }, 500);
            }
        });
    </script>

    <script src="tunnel-background.js"></script>
</body>
</html>